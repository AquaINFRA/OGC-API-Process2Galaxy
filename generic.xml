<tool id="terrabyte_ogc_api_processes" name="Terrabyte OGC API Processes" version="0.1.0">
	<description>Water quality EO Application Package</description>
	<macros>
		<import>macros.xml</import>
	</macros>
	<expand macro="requirements"/>
	<command detect_errors="exit_code"><![CDATA[
	Rscript '$__tool_directory__/generic.R'
		--server 'https://processing.terrabyte.lrz.de/'
		--outputData '$output_data'
]]></command>
	<configfiles>
		<inputs name="inputs" filename="inputs.json" data_style="paths"/>
	</configfiles>
	<inputs>
		<param name="cookie" label="cookie" optional="false" value="" type="text"/>
		<param name="date" label="Date" optional="false" help="Center date for data query" type="text"/>
		<param name="delta" label="Delta" optional="false" help="Days delta +- around the specified date" type="text"/>
		<param name="aoi" label="AOI" optional="false" help="Area of interest as GeoJSON polygon to find intersection of products" type="text"/>
		<param name="cloud_cover" label="Cloud Cover" optional="false" help="Maximum cloud coverage permitted for query" type="text"/>
	</inputs>
	<outputs>
		<data name="output_data" format="txt" label="Water quality EO Application Package"/>
	</outputs>
	<expand macro="tests"/>
	<help>This process takes a Sentinel-2 Scene as input, and calculates chlorophyll-a concentration and turbidity in water bodies in an EO Application Package.It returns the results as tiffs representing the input scene. You need to have an account at the Leibniz Supercomputing Center (LRZ) with a grant for terrabyte. As part of the OGC Open Science Persistent Demonstrator you can asked for an account at LRZ/terrabyte. If you are associated with an educational organisation, you can likely create an account with your account using the eduGAIN federation. Please have a look at our documentation: https://docs.terrabyte.lrz.de/services/identity/get-account/.</help>
	<expand macro="citations"/>
</tool>
